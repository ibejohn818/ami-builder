{"version":3,"file":"builder.js","sourceRoot":"","sources":["../../src/packer/builder.ts"],"names":[],"mappings":"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"}